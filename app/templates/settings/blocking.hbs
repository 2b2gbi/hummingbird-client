<h1>Blocking</h1>

<div class="settings--section-head">
  Once you block someone, that person can no longer tag you, follow you, view your profile, or see your feed posts.
</div>
<div class="container">
  <div class="notification-settings--headers row">
    <label class="col-xs-3 col-form-label">Block Users</label>
    <div class="form-inline col-xs-9">
      <div class="col-xs-9">
        {{#power-select
          search=(perform searchUsers)
          selected=currentSelection
          onchange=(action (mut currentSelection))
          renderInPlace=true
          allowClear=true
          placeholder="Search users to block..."
          as |item|
        }}
          <span>{{item.name}}</span>
        {{/power-select}}
      </div>
      <div class="col-xs-3">
        <button class="button" disabled={{unless currentSelection "disabled"}} onclick={{action "blockUser"}}>Block</button>
      </div>
    </div>
  </div>
  <div class="form-group row">
    <ul class="blocked-user--list">
      {{#each model as |block|}}
        <li>
          <div class="stream-item--title-block">
            <span class="avatar-block">
              <a class="author-avatar">
                <img src={{image block.blocked.avatar "medium"}}>
              </a>
            </span>
            <div class="author-info">
              <a class="author-name">{{block.blocked.name}}</a>
            </div>
            <a href="#" class="unblock-cta" {{action "unblockUser" block}}>
              Unblock
            </a>
          </div>
        </li>
      {{else}}
        <p class="text-xs-center stream-error-wrapper">You aren't currently blocking anyone.</p>
      {{/each}}
    </ul>
  </div>

  <div class="text-xs-center w-100">
    {{#paginated-resource/manual
      model=model
      update=(route-action "updateNextPage") as |nextLink|}}
      {{#if nextLink}}
        <button class="button button--primary btn-block">
          Load More
        </button>
      {{/if}}
    {{/paginated-resource/manual}}
  </div>
</div>
